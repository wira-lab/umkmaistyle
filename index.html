<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>UMKM AI Style - Platform Fashion Advisor Berbasis AI untuk UMKM</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    /* ========== RESET & GLOBAL ========== */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Poppins", sans-serif;
      background-color: #f7f3ee;
      color: #1f1a16;
      line-height: 1.6;
    }
    a {
      text-decoration: none;
      color: inherit;
    }
    img { max-width: 100%; display: block; }
    .container {
      max-width: 1120px;
      margin: 0 auto;
      padding: 0 1rem;
    }

    /* ========== HEADER / NAV ========== */
    header {
      position: sticky;
      top: 0;
      z-index: 20;
      background: rgba(247,243,238,0.96);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid #e2d4c6;
    }
    nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: .75rem;
      flex-wrap: wrap;
      padding: .75rem 0;
    }
    .logo {
      font-weight: 700;
      font-size: 1.1rem;
      letter-spacing: .08em;
      text-transform: uppercase;
    }
    .logo span { color: #b7773c; }

    .nav-links {
      display: flex;
      flex-wrap: wrap;
      gap: .6rem;
      font-size: .9rem;
      align-items: center;
    }
    .nav-link {
      padding: .3rem .7rem;
      border-radius: 999px;
      border: none;
      background: transparent;
      cursor: pointer;
      font: inherit;
    }
    .nav-link.active {
      background: #b7773c;
      color: #fff;
    }
    .nav-link:not(.active):hover {
      background: #efe2d5;
    }
    .btn-secondary {
      padding: .4rem .9rem;
      border-radius: 999px;
      border: 1px solid #b7773c;
      background: transparent;
      color: #b7773c;
      font-size: .85rem;
      cursor: pointer;
    }
    .btn-secondary:hover {
      background: #f0e3d8;
    }

    main { padding-bottom: 3rem; }

    /* Semua "halaman" */
    .page {
      display: none;
      padding: 3rem 0;
    }
    .page.active-section {
      display: block;
    }

    .section-title {
      font-size: 1.4rem;
      font-weight: 600;
      margin-bottom: .4rem;
    }
    .section-subtitle {
      font-size: .9rem;
      color: #75665a;
      margin-bottom: 1.2rem;
    }

    .card {
      background-color: #fdf9f4;
      border-radius: 1.1rem;
      border: 1px solid #e2d4c6;
      padding: 1rem;
      font-size: .9rem;
    }
    .badge-pill {
      display: inline-block;
      font-size: .78rem;
      padding: .2rem .6rem;
      border-radius: 999px;
      background-color: #efe1d2;
      margin-bottom: .4rem;
    }

    .btn-primary {
      padding: .5rem 1.1rem;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      background-color: #b7773c;
      color: #fff;
      font-size: .9rem;
      font-weight: 500;
      box-shadow: 0 6px 16px rgba(183,119,60,.35);
      white-space: nowrap;
    }
    .btn-primary:hover {
      background-color: #a36632;
    }

    footer {
      border-top: 1px solid #e2d4c6;
      background-color: #f4ece4;
      padding: 1.1rem 0;
      font-size: .8rem;
      color: #7e7065;
    }

    /* ========== HERO (HOME) ========== */
    .hero {
      padding-top: 2rem;
    }
    .hero-grid {
      display: grid;
      grid-template-columns: 1.2fr 1fr;
      gap: 2.4rem;
      align-items: center;
    }
    .hero-tag {
      font-size: .78rem;
      text-transform: uppercase;
      letter-spacing: .18em;
      color: #b7773c;
      margin-bottom: .6rem;
    }
    .hero-title {
      font-size: 2rem;
      line-height: 1.2;
      margin-bottom: .7rem;
    }
    .hero-desc {
      font-size: .96rem;
      color: #5f5349;
      margin-bottom: 1.2rem;
    }
    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: .75rem;
      margin-bottom: 1.2rem;
    }
    .hero-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 1.2rem;
      font-size: .82rem;
      color: #7b6d63;
    }
    .hero-meta strong { display: block; font-size: .88rem; }
    .hero-badge {
      display: inline-block;
      margin-top: .8rem;
      font-size: .78rem;
      padding: .25rem .8rem;
      border-radius: 999px;
      border: 1px dashed #cfb7a0;
      background: #fdf7f1;
      color: #846b58;
    }
    .hero-panel {
      border-radius: 1.4rem;
      padding: 1.4rem;
      background: radial-gradient(circle at top left,#fdf7f1,#dfd1c3);
      box-shadow: 0 18px 46px rgba(0,0,0,0.1);
      display: grid;
      gap: 1rem;
    }
    .hero-panel h3 {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: .3rem;
    }
    .hero-panel p {
      font-size: .85rem;
      color: #6c5b4c;
    }
    .hero-chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: .4rem;
      margin-top: .5rem;
    }
    .chip {
      font-size: .78rem;
      padding: .25rem .6rem;
      border-radius: 999px;
      background-color: rgba(255,255,255,0.9);
      border: 1px solid #ddc7b0;
    }
    .hero-box {
      border-radius: 1rem;
      background-color: rgba(255,255,255,.94);
      padding: .8rem .9rem;
      border: 1px solid #e2d4c6;
      font-size: .83rem;
    }

    .grid-3 {
      display: grid;
      grid-template-columns: repeat(3,minmax(0,1fr));
      gap: 1.2rem;
    }

    /* ========== AI STYLE PAGE ========== */
    .grid-2 {
      display: grid;
      grid-template-columns: 1.3fr 1fr;
      gap: 1.5rem;
    }
    .quiz-question { margin-bottom: 1rem; }
    .quiz-label {
      font-size: .9rem;
      font-weight: 500;
      margin-bottom: .35rem;
    }
    .quiz-options {
      display: flex;
      flex-wrap: wrap;
      gap: .4rem;
    }
    .quiz-options button {
      border-radius: 999px;
      border: 1px solid #cdbcac;
      background: #fff;
      padding: .3rem .8rem;
      font-size: .83rem;
      cursor: pointer;
    }
    .quiz-options button.selected {
      background: #b7773c;
      border-color: #b7773c;
      color: #fff;
    }
    .quiz-input {
      width: 100%;
      padding: .4rem .6rem;
      border-radius: .7rem;
      border: 1px solid #cdbcac;
      background: #fff;
      font-size: .85rem;
    }
    .quiz-note {
      font-size: .78rem;
      color: #7b6c5f;
      margin-top: .3rem;
    }
    .results-grid {
      display: grid;
      grid-template-columns: repeat(3,minmax(0,1fr));
      gap: 1rem;
      margin-top: 1rem;
    }

        .result-products {
      margin-top: .6rem;
      display: flex;
      flex-direction: column;
      gap: .5rem;
    }
    .result-product {
      display: flex;
      gap: .5rem;
      align-items: flex-start;
    }
    .result-product-img {
      width: 56px;
      height: 56px;
      border-radius: .7rem;
      overflow: hidden;
      flex-shrink: 0;
      background: #f0e3d8;
      border: 1px solid #e2d4c6;
    }
    .result-product-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    .result-product-name {
      font-size: .87rem;
      font-weight: 600;
      margin-bottom: .1rem;
    }
    .result-product-meta {
      font-size: .8rem;
      color: #7a6b60;
      margin-bottom: .15rem;
    }
    .result-product-tags {
      font-size: .75rem;
    }

    .result-card {
      background: #fdf9f4;
      border-radius: 1rem;
      border: 1px solid #e2d4c6;
      padding: .9rem;
      font-size: .85rem;
    }
    .result-card h4 {
      font-size: .95rem;
      margin-bottom: .3rem;
    }
    .result-tag {
      font-size: .78rem;
      padding: .18rem .55rem;
      border-radius: 999px;
      background: #efe1d2;
      display: inline-block;
      margin-bottom: .4rem;
    }
    .result-card ul {
      padding-left: 1.1rem;
      margin-bottom: .3rem;
    }
    .result-small {
      font-size: .78rem;
      color: #7a6a5d;
    }
    .pill {
      display: inline-block;
      font-size: .8rem;
      padding: .18rem .55rem;
      border-radius: 999px;
      background: #efe1d2;
      margin-right: .3rem;
      margin-top: .2rem;
    }
    .profile-box {
      margin-top: 1rem;
      font-size: .83rem;
      color: #75665a;
      background: #fbf3ea;
      border-radius: 1rem;
      border: 1px dashed #d3c1af;
      padding: .8rem .9rem;
    }

    /* ========== AI CHATBOT PAGE ========== */
    .layout-chat {
      display: grid;
      grid-template-columns: 1.4fr 1fr;
      gap: 1.5rem;
    }
    .chat-window {
      background: #fdf9f4;
      border-radius: 1.1rem;
      border: 1px solid #e2d4c6;
      display: flex;
      flex-direction: column;
      height: 430px;
    }
    .chat-header {
      padding: .6rem .9rem;
      border-bottom: 1px solid #e2d4c6;
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: .85rem;
    }
    .chat-left {
      display: flex;
      align-items: center;
      gap: .45rem;
    }
    .chat-dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: #4caf50;
    }
    .mode-toggle {
      display: flex;
      border-radius: 999px;
      overflow: hidden;
      border: 1px solid #d2c3b5;
      font-size: .78rem;
    }
    .mode-toggle button {
      flex: 1;
      padding: .25rem .5rem;
      border: none;
      background: transparent;
      cursor: pointer;
    }
    .mode-toggle button.active {
      background: #b7773c;
      color: #fff;
    }
    .chat-messages {
      flex: 1;
      padding: .7rem .9rem;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: .4rem;
      font-size: .83rem;
    }
    .chat-bubble {
      max-width: 80%;
      padding: .45rem .7rem;
      border-radius: .9rem;
      line-height: 1.4;
    }
    .chat-bubble.user {
      align-self: flex-end;
      background: #b7773c;
      color: #fff;
      border-bottom-right-radius: .2rem;
    }
    .chat-bubble.bot {
      align-self: flex-start;
      background: #fff;
      border: 1px solid #e2d4c6;
      border-bottom-left-radius: .2rem;
    }
    .chat-input-row {
      padding: .6rem .7rem;
      border-top: 1px solid #e2d4c6;
      display: flex;
      gap: .4rem;
      align-items: center;
    }
    .chat-input {
      flex: 1;
      border-radius: 999px;
      border: 1px solid #cdbcac;
      padding: .35rem .7rem;
      background: #fff;
      font-size: .83rem;
    }
    .quick-row {
      margin-top: .5rem;
      display: flex;
      flex-wrap: wrap;
      gap: .35rem;
      font-size: .78rem;
    }
    .quick-btn {
      border-radius: 999px;
      border: 1px solid #d2c3b5;
      background: #fff;
      padding: .18rem .55rem;
      cursor: pointer;
    }

    /* ========== KATALOG PAGE ========== */
    .filter-row {
      display: flex;
      flex-wrap: wrap;
      gap: .5rem;
      margin-bottom: 1rem;
      font-size: .83rem;
    }
    .filter-row select,
    .filter-row input {
      padding: .35rem .6rem;
      border-radius: .7rem;
      border: 1px solid #cdbcac;
      background: #fff;
    }
    .product-grid {
      display: grid;
      grid-template-columns: repeat(4,minmax(0,1fr));
      gap: 1rem;
    }
    .product-card {
      background: #fdf9f4;
      border-radius: 1rem;
      border: 1px solid #e2d4c6;
      padding: .8rem;
      font-size: .85rem;
      display: flex;
      flex-direction: column;
      gap: .3rem;
    }
    .product-name { font-weight: 600; font-size: .92rem; }
    .product-umkm { font-size: .78rem; color: #7a6b60; }
    .product-price { font-size: .9rem; color: #b7773c; font-weight: 600; }
    .product-tags { font-size: .76rem; }
    .tag {
      display: inline-block;
      padding: .16rem .45rem;
      border-radius: 999px;
      background: #efe1d2;
      margin-right: .18rem;
      margin-top: .1rem;
    }
    .product-footer {
      margin-top: .3rem;
      display: flex;
      justify-content: space-between;
      gap: .4rem;
      align-items: center;
    }
    .ai-highlight {
      margin-top: 1.8rem;
      background: #fdf9f4;
      border-radius: 1rem;
      border: 1px solid #e2d4c6;
      padding: 1rem;
      font-size: .88rem;
    }
    .ai-highlight h3 {
      font-size: 1rem;
      margin-bottom: .35rem;
    }
    .ai-highlight ul {
      padding-left: 1.1rem;
      margin-top: .3rem;
    }

    /* ========== RESPONSIVE ========== */
    @media (max-width: 900px) {
      .hero-grid,
      .grid-2,
      .layout-chat {
        grid-template-columns: 1fr;
      }
      .grid-3 {
        grid-template-columns: 1fr;
      }
      .results-grid {
        grid-template-columns: repeat(2,minmax(0,1fr));
      }
      .product-grid {
        grid-template-columns: repeat(2,minmax(0,1fr));
      }
      .hero { padding-top: 1.4rem; }
    }
    @media (max-width: 640px) {
      .results-grid,
      .product-grid {
        grid-template-columns: 1fr;
      }
      .hero-title { font-size: 1.7rem; }
    }
    .product-image-wrap {
  width: 100%;
  height: 170px;             /* kasih tinggi tetap */
  border-radius: 0.9rem;
  overflow: hidden;
  margin-bottom: 0.5rem;
  background: #f0e3d8;       /* biar kelihatan kotaknya */
  border: 1px solid #e2d4c6;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: .75rem;
  color: #7a6b60;
}
.product-image-wrap img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

  </style>
</head>
<body>

<header>
  <div class="container">
    <nav>
      <div class="logo">UMKM<span>AI</span>Style</div>
      <div class="nav-links">
        <button class="nav-link active" onclick="showSection('home', this)">Beranda</button>
        <button class="nav-link" onclick="showSection('ai-style', this)">AI Style</button>
        <button class="nav-link" onclick="showSection('ai-chat', this)">AI Chatbot</button>
        <button class="nav-link" onclick="showSection('katalog', this)">Katalog UMKM</button>
      </div>
    </nav>
  </div>
</header>

<main>
  <!-- ========== PAGE: HOME ========== -->
  <section id="home" class="page active-section">
    <div class="container hero">
      <div class="hero-grid">
        <div>
          <div class="hero-tag">Website Pemanfaatan AI untuk UMKM Fashion</div>
          <h1 class="hero-title">
            Fashion Advisor berbasis AI<br>untuk bantu UMKM menjangkau Gen Z.
          </h1>
          <p class="hero-desc">
            Platform ini memadukan <strong>AI Style Recommender</strong> dan
            <strong>AI Chatbot</strong> untuk membantu Gen Z menemukan outfit yang pas,
            sekaligus memberi insight dan visibilitas lebih bagi UMKM fashion lokal.
          </p>
          <div class="hero-actions">
            <button class="btn-primary" onclick="showSection('ai-style', document.querySelectorAll('.nav-link')[1])">
              Coba AI Style Recommender
            </button>
            <button class="btn-secondary" onclick="showSection('ai-chat', document.querySelectorAll('.nav-link')[2])">
              Ngobrol dengan AI Chatbot
            </button>
          </div>
          <div class="hero-meta">
            <div>
              <strong>Fokus Pengguna</strong>
              <span>Rekomendasi outfit personal: gaya, warna, budget, dan occasion.</span>
            </div>
            <div>
              <strong>Fokus UMKM</strong>
              <span>Produk muncul ke orang yang tepat, dengan rekomendasi & insight AI.</span>
            </div>
          </div>
          <div class="hero-badge">
            Cocok sebagai proyek tugas ‚ÄúPemanfaatan AI untuk UMKM‚Äù di bidang fashion & digital marketing.
          </div>
        </div>
        <div class="hero-panel">
          <div>
            <h3>Dua Modul AI Utama</h3>
            <p>
              <strong>AI Style Recommender:</strong> mesin yang mencocokkan preferensi Gen Z
              dengan katalog produk UMKM.<br>
              <strong>AI Chatbot:</strong> stylist digital yang bisa diajak diskusi soal outfit
              dan strategi produk.
            </p>
            <div class="hero-chip-row">
              <div class="chip">Personalized Outfit</div>
              <div class="chip">UMKM-Centric</div>
              <div class="chip">Data-Driven</div>
              <div class="chip">Gen Z Friendly</div>
            </div>
          </div>
          <div class="hero-box">
            <strong>Contoh Skenario Pengguna</strong>
            <p style="margin-top:.2rem;">
              Seorang mahasiswa ingin outfit Korean casual untuk kuliah, budget 200K.  
              AI membaca preferensi, memilih produk UMKM yang cocok, dan menggabungkannya
              menjadi 3 set outfit yang berbeda.
            </p>
          </div>
          <div class="hero-box">
            <strong>Contoh Skenario UMKM</strong>
            <p style="margin-top:.2rem;">
              UMKM bisa melihat bahwa produknya sering direkomendasikan untuk Gen Z
              yang suka gaya minimalis, lalu menambah koleksi sesuai tren yang dibaca AI.
            </p>
          </div>
        </div>
      </div>
    </div>

    <div class="container" style="padding-top:2rem;">
      <h2 class="section-title">Ringkasan Fitur Utama Website</h2>
      <p class="section-subtitle">
        Setiap menu dipecah menjadi area terpisah dalam satu file untuk menjelaskan pemanfaatan AI secara lebih mendalam.
      </p>
      <div class="grid-3">
        <div class="card">
          <div class="badge-pill">AI Style Recommender</div>
          <h3>Rekomendasi Outfit untuk Gen Z</h3>
          <p>
            Sistem membaca gaya, occasion, budget, dan preferensi warna, lalu menghasilkan beberapa set outfit dari
            produk UMKM. Di bagian <strong>AI Style</strong>, kamu bisa melihat simulasi quiz, logika rekomendasi,
            dan contoh output yang terbagi menjadi:
          </p>
          <ul style="padding-left:1.1rem;margin-top:.4rem;font-size:.86rem;">
            <li>Look utama (paling sesuai preferensi).</li>
            <li>Look budget-friendly.</li>
            <li>Look alternatif untuk occasion lain.</li>
          </ul>
        </div>
        <div class="card">
          <div class="badge-pill">AI Chatbot</div>
          <h3>Asisten Fashion & UMKM</h3>
          <p>
            Di bagian <strong>AI Chatbot</strong>, kamu bisa mencoba chatbot dengan dua mode:
          </p>
          <ul style="padding-left:1.1rem;margin-top:.4rem;font-size:.86rem;">
            <li><strong>Mode Pengguna:</strong> tanya soal outfit, gaya, budget, dan rekomendasi.</li>
            <li><strong>Mode UMKM:</strong> tanya soal strategi produk, tren gaya, dan insight data sederhana.</li>
          </ul>
          <p style="margin-top:.3rem;font-size:.83rem;color:#7a6b60;">
            Chatbot merespons dengan bahasa natural sebagai contoh bagaimana LLM dapat dipakai dalam konteks UMKM.
          </p>
        </div>
        <div class="card">
          <div class="badge-pill">Katalog UMKM</div>
          <h3>Basis Data Produk untuk AI</h3>
          <p>
            Bagian <strong>Katalog UMKM</strong> berisi contoh produk yang sudah dilabeli gaya, occasion, dan harga.
            Data inilah yang menjadi ‚Äúbahan baku‚Äù modul rekomendasi dan chatbot, sehingga AI tidak hanya menjawab secara
            umum, tetapi selalu merujuk ke produk UMKM nyata.
          </p>
          <p style="margin-top:.3rem;font-size:.83rem;color:#7a6b60;">
            Ke depannya, katalog ini bisa dihubungkan ke database atau sistem manajemen produk asli.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- ========== PAGE: AI STYLE ========== -->
  <section id="ai-style" class="page">
    <div class="container">
      <h1 class="section-title">AI Style Recommender untuk UMKM Fashion</h1>
      <p class="section-subtitle">
        Bagian ini mensimulasikan modul AI yang membaca preferensi pengguna Gen Z dan mengubahnya menjadi
        rekomendasi outfit yang bersumber dari produk-produk UMKM.
      </p>

      <div class="grid-2">
        <!-- QUIZ -->
        <div class="card">
          <div class="badge-pill">Langkah 1 ¬∑ Isi Profil & Preferensi</div>

          <div class="quiz-question">
            <div class="quiz-label">1. Kamu?</div>
            <div class="quiz-options" id="gender-options">
              <button type="button" data-value="female">Perempuan</button>
              <button type="button" data-value="male">Laki-laki</button>
              <button type="button" data-value="unisex">Prefer diabaikan</button>
            </div>
          </div>

          <div class="quiz-question">
            <div class="quiz-label">2. Bentuk tubuh (kira-kira)?</div>
            <div class="quiz-options" id="body-options">
              <button type="button" data-value="slim">Cenderung kurus</button>
              <button type="button" data-value="average">Rata-rata</button>
              <button type="button" data-value="curvy">Berisi / curvy</button>
            </div>
          </div>

          <div class="quiz-question">
            <div class="quiz-label">3. Gaya yang paling mendekati kamu?</div>
            <div class="quiz-options" id="style-options">
              <button type="button" data-value="korean">Korean Casual</button>
              <button type="button" data-value="streetwear">Streetwear</button>
              <button type="button" data-value="minimalist">Minimalist</button>
              <button type="button" data-value="hijab">Hijab Modern</button>
            </div>
          </div>

          <div class="quiz-question">
            <div class="quiz-label">4. Outfit ini terutama untuk ke mana?</div>
            <div class="quiz-options" id="occasion-options">
              <button type="button" data-value="kuliah">Kuliah</button>
              <button type="button" data-value="hangout">Hangout</button>
              <button type="button" data-value="ngedate">Ngedate</button>
              <button type="button" data-value="konser">Konser</button>
              <button type="button" data-value="formal">Acara Formal</button>
            </div>
          </div>

          <div class="quiz-question">
            <div class="quiz-label">5. Budget total 1 set outfit?</div>
            <div class="quiz-options" id="budget-options">
              <button type="button" data-value="100">‚â§ Rp100K</button>
              <button type="button" data-value="200">Rp100K‚ÄìRp200K</button>
              <button type="button" data-value="300">Rp200K‚ÄìRp300K</button>
              <button type="button" data-value="400">‚â• Rp300K</button>
            </div>
          </div>

          <div class="quiz-question">
            <div class="quiz-label">6. Warna / nuansa yang kamu suka?</div>
            <input id="color-input" class="quiz-input" placeholder="Contoh: earth tone, pastel, monochrome..." />
          </div>

          <button class="btn-primary" onclick="generateRecommendations()">Generate Rekomendasi Outfit</button>
          <button class="btn-secondary" style="margin-left:.5rem;" onclick="saveProfile()">
            Simpan Profil Style (demo)
          </button>
          <div class="quiz-note">
            Tombol ‚ÄúSimpan Profil Style‚Äù hanya demo menggunakan <em>localStorage</em> sebagai contoh sistem yang mengingat preferensi.
          </div>
        </div>

        <!-- PENJELASAN & PROFIL TERSIMPAN -->
        <div class="card">
          <div class="badge-pill">Bagaimana AI Membaca Input Ini?</div>
          <p style="margin-bottom:.4rem;">
            Di implementasi sesungguhnya, setiap jawaban di atas diubah menjadi fitur:
          </p>
          <ul style="padding-left:1.1rem;margin-bottom:.4rem;font-size:.86rem;">
            <li><strong>Gender & bentuk tubuh</strong> ‚Üí memengaruhi potongan baju yang direkomendasikan.</li>
            <li><strong>Gaya & occasion</strong> ‚Üí menentukan kategori produk UMKM yang diprioritaskan.</li>
            <li><strong>Budget</strong> ‚Üí batas maksimum kombinasi harga total outfit.</li>
            <li><strong>Preferensi warna</strong> ‚Üí filter warna produk (earth tone, pastel, dsb.).</li>
          </ul>
          <p style="font-size:.83rem;color:#7a6b60;">
            Engine AI kemudian mencocokkan fitur-fitur ini dengan katalog produk UMKM, sehingga setiap pengguna melihat
            produk yang berbeda, meskipun tampilan website-nya sama.
          </p>

          <div id="saved-profile" class="profile-box" style="display:none;"></div>
        </div>
      </div>

      <!-- HASIL REKOMENDASI -->
      <div style="margin-top:1.6rem;">
        <h2 class="section-title" style="font-size:1.15rem;">Output: 3 Set Outfit Rekomendasi</h2>
        <p class="section-subtitle" id="rec-subtitle">
          Setelah kamu mengisi quiz, sistem akan menampilkan 3 set: Look Utama, Look Budget-Friendly, dan Look Alternatif Occasion.
        </p>
        <div class="results-grid" id="rec-grid"></div>
      </div>
    </div>
  </section>

  <!-- ========== PAGE: AI CHATBOT ========== -->
  <section id="ai-chat" class="page">
    <div class="container">
      <h1 class="section-title">AI Chatbot ‚Äì Asisten Fashion & UMKM</h1>
      <p class="section-subtitle">
        Chatbot ini mensimulasikan bagaimana model AI (LLM) bisa membantu dua pihak sekaligus:
        <strong>Pengguna</strong> yang butuh rekomendasi outfit, dan <strong>UMKM</strong> yang butuh insight bisnis.
      </p>

      <div class="layout-chat">
        <!-- CHAT -->
        <div class="chat-window">
          <div class="chat-header">
            <div class="chat-left">
              <div class="chat-dot"></div>
              <span id="mode-label">Mode: Pengguna (Fashion)</span>
            </div>
            <div class="mode-toggle">
              <button id="mode-user" class="active" onclick="setMode('user')">Pengguna</button>
              <button id="mode-umkm" onclick="setMode('umkm')">UMKM</button>
            </div>
          </div>
          <div id="chat-messages" class="chat-messages">
            <div class="chat-bubble bot">
              Hai! üëã Aku AI Stylist & UMKM Advisor.  
              Pilih dulu mode di kanan atas: <strong>Pengguna</strong> atau <strong>UMKM</strong>, lalu kirim pertanyaanmu.
            </div>
          </div>
          <div class="chat-input-row">
            <input id="chat-input" class="chat-input" placeholder="Tulis pesanmu di sini..." />
            <button class="btn-primary" onclick="handleChatSend()">Kirim</button>
          </div>
        </div>

        <!-- PENJELASAN + QUICK TIPS -->
        <div class="card">
          <div class="badge-pill">Bagaimana Chatbot Ini Bekerja?</div>
          <p style="margin-bottom:.45rem;">
            Secara konsep, chatbot ini terhubung ke dua sumber informasi:
          </p>
          <ul style="padding-left:1.1rem;margin-bottom:.45rem;font-size:.86rem;">
            <li>
              <strong>Modul rekomendasi produk</strong> ‚Üí agar jawaban untuk pengguna selalu mengarah ke produk UMKM nyata
              (bukan jawaban general).
            </li>
            <li>
              <strong>Data insight UMKM</strong> ‚Üí agar chatbot bisa menjawab pertanyaan seperti
              ‚Äúproduk mana yang paling disukai Gen Z?‚Äù atau ‚Äúrange harga yang paling diminati?‚Äù
            </li>
          </ul>
          <p style="font-size:.83rem;color:#7a6b60;margin-bottom:.4rem;">
            Di halaman ini, logika masih disimulasikan di sisi front-end (JavaScript), namun strukturnya sudah mirip
            dengan integrasi ke API LLM dan database di dunia nyata.
          </p>

          <div class="badge-pill">Contoh Pertanyaan Cepat</div>
          <div class="quick-row">
            <button class="quick-btn" onclick="fillAndSend('Aku mau outfit Korean buat kuliah, budget 200K, cowok.')">
              Korean kuliah 200K (cowok)
            </button>
            <button class="quick-btn" onclick="fillAndSend('Aku cewek berhijab, mau look simple buat ngedate, budget 250K.')">
              Hijab ngedate 250K
            </button>
            <button class="quick-btn" onclick="setMode('umkm'); fillAndSend('Sebagai UMKM, produk fashion apa yang sebaiknya saya fokuskan untuk Gen Z?')">
              (UMKM) Produk fokus Gen Z
            </button>
            <button class="quick-btn" onclick="setMode('umkm'); fillAndSend('Bagaimana AI di platform ini bisa meningkatkan penjualan UMKM saya?')">
              (UMKM) AI & penjualan
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ========== PAGE: KATALOG ========== -->
  <section id="katalog" class="page">
    <div class="container">
      <h1 class="section-title">Katalog Produk UMKM</h1>
      <p class="section-subtitle">
        Katalog ini adalah contoh dataset sederhana yang dibaca oleh modul AI rekomendasi dan AI chatbot.
        Setiap produk dilengkapi label gaya, occasion, dan harga agar lebih mudah dicocokkan dengan preferensi pengguna.
      </p>

      <div class="filter-row">
        <select id="filter-style" onchange="filterProducts()">
          <option value="">Gaya: Semua</option>
          <option value="Korean Casual">Korean Casual</option>
          <option value="Streetwear">Streetwear</option>
          <option value="Minimalist">Minimalist</option>
          <option value="Hijab Modern">Hijab Modern</option>
        </select>
        <select id="filter-occasion" onchange="filterProducts()">
          <option value="">Occasion: Semua</option>
          <option value="Kuliah">Kuliah</option>
          <option value="Hangout">Hangout</option>
          <option value="Konser">Konser</option>
          <option value="Formal">Formal</option>
          <option value="Daily">Daily</option>
        </select>
        <select id="filter-price" onchange="filterProducts()">
          <option value="">Harga: Semua</option>
          <option value="low">‚â§ Rp100K</option>
          <option value="mid">Rp100K‚ÄìRp200K</option>
          <option value="high">‚â• Rp200K</option>
        </select>
        <input id="search-input" placeholder="Cari nama produk / UMKM..." oninput="filterProducts()" />
      </div>

      <div id="product-grid" class="product-grid">
        <!-- Diisi via JS -->
      </div>

      <div class="ai-highlight">
        <h3>Bagaimana AI Memanfaatkan Katalog Ini?</h3>
        <p>
          Setiap produk di atas bukan sekadar data statis. Pada sistem AI, produk‚Äìproduk tersebut dianalisis dan diberi
          bobot relevansi terhadap preferensi pengguna. Contohnya:
        </p>
        <ul>
          <li>
            Oversize shirt dengan label <strong>Korean Casual</strong> dan <strong>Kuliah</strong> akan sering muncul untuk
            pengguna yang memilih gaya Korean dan occasion kuliah.
          </li>
          <li>
            Produk dengan harga di range Rp100K‚ÄìRp200K akan didahulukan ketika pengguna mengisi budget yang sama.
          </li>
          <li>
            Jika sebuah produk sering diklik tapi jarang dibeli, chatbot UMKM dapat mengingatkan agar pemilik mengecek
            ulang foto, deskripsi, atau harga produk tersebut.
          </li>
        </ul>
        <p style="margin-top:.4rem;">
          Di tugas atau laporanmu, bagian ini bisa dijelaskan sebagai ‚Äúbasis data produk‚Äù yang menjadi input utama bagi
          modul AI Style dan AI Chatbot.
        </p>
      </div>
    </div>
  </section>
</main>

<footer>
  <div class="container" style="display:flex;justify-content:space-between;gap:.7rem;flex-wrap:wrap;">
    <div>¬© 2025 ¬∑ UMKM AI Style ‚Äì Prototipe Pemanfaatan AI untuk UMKM Fashion.</div>
    <div>Berisi modul AI Style Recommender, AI Chatbot, dan Katalog UMKM dalam satu halaman.</div>
  </div>
</footer>
<script>
  /* ========== NAV / PAGE SWITCH ========== */
  function showSection(id, btn) {
    document.querySelectorAll('.page').forEach(sec => {
      sec.classList.toggle('active-section', sec.id === id);
    });
    if (btn) {
      document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
      btn.classList.add('active');
    }
  }

  /* ========== UTIL SELECTABLE BUTTONS (AI STYLE) ========== */
  function makeSelectableGroup(id) {
    const c = document.getElementById(id);
    if (!c) return;
    const btns = c.querySelectorAll("button");
    btns.forEach(b => {
      b.addEventListener("click", () => {
        btns.forEach(x => x.classList.remove("selected"));
        b.classList.add("selected");
      });
    });
  }
  ["gender-options","body-options","style-options","occasion-options","budget-options"].forEach(makeSelectableGroup);

  function getSelectedValue(id){
    const c=document.getElementById(id);
    if(!c) return null;
    const s=c.querySelector("button.selected");
    return s?s.getAttribute("data-value"):null;
  }

  /* ========== DATA PRODUK UMKM (DIPAKAI AI STYLE + KATALOG) ========== */
  // gender: "female" | "male" | "unisex"
  const products = [
    // KOREAN CASUAL ‚Äì CEWEK
    {
      name: "Mini Dress Overall Peach",
      umkm: "Lovely Wardrobe",
      price: 175000,
      style: "Korean Casual",
      occasion: ["Hangout","Ngedate"],
      tags: ["Dress","Pastel","Cute Look"],
      gender: "female",
      image: "imgdress-overall-peach.jpg"
    },
    {
      name: "Mix & Match Korean Casual Girl",
      umkm: "K-Style Boutique",
      price: 185000,
      style: "Korean Casual",
      occasion: ["Kuliah","Hangout"],
      tags: ["Korean Casual","Layering","Soft Tone"],
      gender: "female",
      image: "Mix & Match Korean Casual Girl.jpg"
    },
    {
      name: "Pleated Midi Skirt Korean Cream",
      umkm: "Soft Seoul Skirt",
      price: 165000,
      style: "Korean Casual",
      occasion: ["Kuliah","Hangout","Formal"],
      tags: ["Skirt","Cream","Soft Girl"],
      gender: "female",
      image: "Pleated Midi Skirt Korean Cream.jpg"
    },

    // KOREAN CASUAL ‚Äì COWOK
    {
      name: "Korean Casual Cowok Blue Shirt",
      umkm: "Oppa Style Local",
      price: 180000,
      style: "Korean Casual",
      occasion: ["Kuliah","Hangout"],
      tags: ["Cowok","Relaxed","Blue Shirt"],
      gender: "male",
      image: "Korean Casual Cowok Blue Shirt.jpg"
    },
    {
      name: "Knit Vest Preppy Cowok",
      umkm: "Urban Preppy ID",
      price: 185000,
      style: "Korean Casual",
      occasion: ["Kuliah","Hangout"],
      tags: ["Preppy","Layering","Gen Z"],
      gender: "male",
      image: "Knit Vest Preppy Cowok.jpg"
    },

    // STREETWEAR
    {
      name: "Oversize Tee Streetwear Girl",
      umkm: "Street Girl Co.",
      price: 130000,
      style: "Streetwear",
      occasion: ["Hangout","Konser","Daily"],
      tags: ["Oversize","Streetwear","Graphic Tee"],
      gender: "female",
      image: "Graphic Tee.jpg"
    },
    {
      name: "Cargo Pants Street Unisex",
      umkm: "Asphalt Wear",
      price: 170000,
      style: "Streetwear",
      occasion: ["Hangout","Konser","Daily"],
      tags: ["Cargo","Unisex","Comfort"],
      gender: "unisex",
      image: "Cargo Pants Street Unisex.jpg"
    },
    {
      name: "Hoodie Street Graphic",
      umkm: "Night City Hoodie",
      price: 210000,
      style: "Streetwear",
      occasion: ["Hangout","Konser","Daily"],
      tags: ["Hoodie","Graphic","Layering"],
      gender: "unisex",
      image: "Hoodie Street Graphic.jpg"
    },
    {
      name: "Denim Jacket Vintage Street",
      umkm: "Retro Lane",
      price: 225000,
      style: "Streetwear",
      occasion: ["Hangout","Konser","Daily"],
      tags: ["Denim","Outer","Vintage"],
      gender: "unisex",
      image: "Denim Jacket Vintage Street.jpg"
    },

    // MINIMALIST
    {
      name: "Blouse Navy White Office",
      umkm: "Modest Office Wear",
      price: 160000,
      style: "Minimalist",
      occasion: ["Kuliah","Formal"],
      tags: ["Office Wear","Smart Casual"],
      gender: "female",
      image: "Blouse Navy White Office.jpg"
    },
    {
      name: "Straight Pants Minimal Warm Beige",
      umkm: "Line & Form Studio",
      price: 165000,
      style: "Minimalist",
      occasion: ["Kuliah","Formal","Daily"],
      tags: ["Pants","Warm Beige","Clean Look"],
      gender: "female",
      image: "Straight Pants Minimal Warm Beige.jpg"
    },
    {
      name: "Basic Turtleneck Knit Earth Tone",
      umkm: "Earth Wardrobe",
      price: 155000,
      style: "Minimalist",
      occasion: ["Kuliah","Hangout","Daily"],
      tags: ["Earth Tone","Knit","Layering"],
      gender: "unisex",
      image: "Basic Turtleneck Knit Earth Tone.jpg"
    },
    {
      name: "Kemeja Linen Minimalist Cowok",
      umkm: "North Coast Linen",
      price: 190000,
      style: "Minimalist",
      occasion: ["Kuliah","Formal","Daily"],
      tags: ["Linen","Cowok","Minimalist"],
      gender: "male",
      image: "Kemeja Linen Minimalist Cowok.jpg"
    },

    // HIJAB MODERN
    {
      name: "Set Hijab Mauve Wide Pants",
      umkm: "Hijab Daily Chic",
      price: 190000,
      style: "Hijab Modern",
      occasion: ["Daily","Hangout"],
      tags: ["Earth Tone","Wide Pants","Comfort"],
      gender: "female",
      image: "Set Hijab Mauve Wide Pants.jpg"
    },
    {
      name: "Hijab Pastel Backpack Look",
      umkm: "Soft Tone Hijab",
      price: 150000,
      style: "Hijab Modern",
      occasion: ["Kuliah","Travel"],
      tags: ["Pastel","Backpack","Clean Look"],
      gender: "female",
      image: "Hijab Pastel Backpack Look.jpg"
    },
    {
      name: "Set Hijab Syar'i Coklat",
      umkm: "Syar'i Cozy Wear",
      price: 200000,
      style: "Hijab Modern",
      occasion: ["Daily","Formal"],
      tags: ["Syar'i","Earth Tone"],
      gender: "female",
      image: "Set Hijab Syar'i Coklat Earth Tone.jpg"
    },
    {
      name: "Hijab Korean Vest Layer Look",
      umkm: "Han River Hijab",
      price: 195000,
      style: "Hijab Modern",
      occasion: ["Hangout","Kuliah"],
      tags: ["Korean Hijab","Layering"],
      gender: "female",
      image: "Hijab Korean Vest Layer Look.jpg"
    },
    {
      name: "Set Hijab Formal Navy Blazer",
      umkm: "Modest Executive ID",
      price: 235000,
      style: "Hijab Modern",
      occasion: ["Formal","Reuni"],
      tags: ["Formal","Blazer","Hijab Set"],
      gender: "female",
      image: "Set Hijab Formal Navy Blazer.jpg"
    }
  ];

  /* ========== HELPER: STYLE LABEL ==========
     dipakai di AI Style & Chat supaya kalimat rapi
  ========================================= */
  function styleLabel(code){
    if(!code) return "";
    const map = {
      korean: "Korean Casual",
      streetwear: "Streetwear",
      minimalist: "Minimalist",
      hijab: "Hijab Modern"
    };
    return map[code] || code;
  }

  /* ========== LOGIKA KECIL: PEMETAAN STYLE PENGGUNA -> STYLE PRODUK ========== */
  function styleMatches(userStyle, productStyle) {
    if (!userStyle) return false;
    userStyle = userStyle.toLowerCase();
    productStyle = productStyle.toLowerCase();

    if (userStyle === "korean")   return productStyle.includes("korean");
    if (userStyle === "streetwear") return productStyle.includes("streetwear");
    if (userStyle === "minimalist") return productStyle.includes("minimalist");
    if (userStyle === "hijab")    return productStyle.includes("hijab");
    return false;
  }

  /* ========== "AI" REKOMENDASI: SKOR PRODUK BERDASARKAN JAWABAN USER ========== */
  function recommendProducts(prefs) {
    const budgetLimitMap = {
      "100": 100000,
      "200": 200000,
      "300": 300000,
      "400": 350000
    };
    const budgetLimit = budgetLimitMap[prefs.budget] || 200000;

    // Filter awal berdasarkan gender (kalau diisi)
    const candidates = products.filter(p => {
      if (prefs.gender && p.gender && p.gender !== "unisex" && p.gender !== prefs.gender) {
        return false;
      }
      return true;
    });

    const scored = candidates.map(p => {
      let score = 0;

      // 1) Kecocokan gaya
      const matchStyle = styleMatches(prefs.style, p.style);
      if (matchStyle) score += 5;
      else if (prefs.style) score -= 1; // beda gaya, kecilin skor

      // 2) Kecocokan occasion
      if (prefs.occasionLabel && p.occasion.includes(prefs.occasionLabel)) {
        score += 3;
      } else if (prefs.occasionLabel) {
        // occasion mirip (kuliah/hangout/daily)
        const casualSet = ["Kuliah","Hangout","Daily","Ngedate","Reuni"];
        if (casualSet.includes(prefs.occasionLabel) && p.occasion.some(o => casualSet.includes(o))) {
          score += 1;
        }
      }

      // 3) Budget
      if (p.price <= budgetLimit) score += 2;
      else if (p.price <= budgetLimit + 50000) score += 1;

      // 4) Logika hijab
      if (prefs.style === "hijab" && p.style === "Hijab Modern") score += 2;
      if (prefs.style !== "hijab" && p.style === "Hijab Modern") score -= 2;

      // 5) Preferensi warna via tags / nama produk
      if (prefs.color) {
        const c = prefs.color.toLowerCase();
        const text = (p.tags.join(" ") + " " + p.name).toLowerCase();
        if (c.includes("earth")  && text.includes("earth"))  score += 1;
        if (c.includes("pastel") && text.includes("pastel")) score += 1;
        if ((c.includes("mono") || c.includes("hitam putih")) && text.includes("minimal")) score += 1;
      }

      return { product: p, score };
    });

    // Urutkan berdasarkan skor
    scored.sort((a,b)=>b.score - a.score);

    // Prioritas: produk yang match gaya + skor >=4
    let primary = scored.filter(s => s.score >= 4 && styleMatches(prefs.style, s.product.style))
                        .map(s => s.product);

    // Kalau kurang, ambil yang skor >=2 (masih lumayan relevan)
    if (primary.length < 4) {
      const extra = scored.filter(s => s.score >= 2 && !primary.includes(s.product))
                          .map(s => s.product);
      primary = primary.concat(extra);
    }

    return primary;
  }

  function formatProductLine(p) {
    return `${p.name} ‚Äì UMKM ${p.umkm} (¬± Rp${p.price.toLocaleString("id-ID")})`;
  }

  /* ========== GENERATE REKOMENDASI OUTFIT (AI STYLE) ========== */
  function generateRecommendations(){
    const gender = getSelectedValue("gender-options");
    const body = getSelectedValue("body-options");
    const style = getSelectedValue("style-options");
    const occasion = getSelectedValue("occasion-options");
    const budget = getSelectedValue("budget-options");
    const color = document.getElementById("color-input").value.trim();

    if(!style || !occasion || !budget){
      alert("Minimal isi gaya, occasion, dan budget dulu ya üôÇ");
      return;
    }

    const occasionMap = {
      "kuliah": "Kuliah",
      "hangout": "Hangout",
      "ngedate": "Ngedate",
      "konser": "Konser",
      "formal": "Formal"
    };

    const prefs = {
      gender,
      body,
      style,
      occasion,
      occasionLabel: occasionMap[occasion] || occasion,
      budget,
      color
    };

    const recSubtitle = document.getElementById("rec-subtitle");
    const recGrid = document.getElementById("rec-grid");
    recGrid.innerHTML = "";

    recSubtitle.textContent =
      "AI membaca preferensi kamu, memberi skor ke setiap produk UMKM, lalu menyusun 3 set outfit lengkap dengan gambar produk dari katalog.";

    const matches = recommendProducts(prefs);

    if (matches.length === 0) {
      recGrid.innerHTML = `
        <div class="result-card">
          <h4>Belum ada produk yang cocok</h4>
          <div class="result-tag">Data UMKM Terbatas</div>
          <p>
            Dari kombinasi gaya, occasion, dan budget yang kamu pilih, belum ada produk UMKM yang benar-benar cocok.
            Di implementasi nyata, ini bisa jadi sinyal untuk UMKM menambah koleksi di segmen tersebut.
          </p>
        </div>
      `;
      return;
    }

    const budgetLimitMap = { "100":100000,"200":200000,"300":300000,"400":350000 };
    const budgetLimit = budgetLimitMap[budget] || 200000;

    /* ---- LOOK 1: Look Utama ---- */
    const mainLookItems = matches.slice(0, 3);
    const mainTotal = mainLookItems.reduce((sum,p)=>sum+p.price,0);

    const bodyNote = body === "curvy"
      ? "Untuk bentuk tubuh berisi/curvy, AI akan cenderung memilih potongan yang tidak terlalu ketat di area pinggang & pinggul."
      : body === "slim"
        ? "Untuk tubuh cenderung kurus, AI biasanya menambahkan layering agar proporsi terlihat lebih seimbang."
        : "Jika bentuk tubuh diabaikan, AI membuat rekomendasi yang cukup aman untuk rata-rata pengguna.";

    const budgetLabelMap = {
      "100":"‚â§ Rp100K",
      "200":"Rp100K‚ÄìRp200K",
      "300":"Rp200K‚ÄìRp300K",
      "400":"‚â• Rp300K"
    };

    const colorText = color
      ? `Preferensi warna: ${color}. AI berusaha memilih produk dengan warna/nuansa yang mirip. `
      : "";

    const look1 = {
      title: "Look Utama (Paling Mendekati Preferensi)",
      tag: `${prefs.occasionLabel} ¬∑ ${styleLabel(prefs.style)}`,
      description: `Look ini adalah kombinasi produk UMKM dengan skor kecocokan tertinggi terhadap gaya "${styleLabel(prefs.style)}" dan occasion "${prefs.occasionLabel}".`,
      items: mainLookItems,
      priceNote: `Perkiraan total outfit: sekitar Rp${mainTotal.toLocaleString("id-ID")} (${budgetLabelMap[budget] || "-"})`,
      highlight: colorText + bodyNote
    };

    /* ---- LOOK 2: Budget-Friendly ---- */
    const budgetLookItems = matches
      .filter(p => p.price <= budgetLimit + 30000) // masih di sekitar budget
      .sort((a,b)=>a.price - b.price)
      .slice(0,3);
    const budgetTotal = budgetLookItems.reduce((sum,p)=>sum+p.price,0);

    const look2 = {
      title: "Look Versi Budget-Friendly",
      tag: "Alternatif Hemat",
      description: "Set outfit dengan fokus ke produk UMKM yang lebih ramah di kantong, tetapi masih sesuai gaya dan occasion yang kamu pilih.",
      items: budgetLookItems.length ? budgetLookItems : mainLookItems,
      priceNote: `Perkiraan belanja: sekitar Rp${(budgetLookItems.length?budgetTotal:mainTotal).toLocaleString("id-ID")} (disesuaikan dengan budget-mu).`,
      highlight: "Cocok untuk mahasiswa/pelajar yang ingin tetap support UMKM tanpa harus beli banyak item sekaligus."
    };

    /* ---- LOOK 3: Alternatif Occasion / Mix & Match ---- */
    let altCandidates = matches.filter(p => !p.occasion.includes(prefs.occasionLabel));
    if (altCandidates.length === 0) altCandidates = matches;
    const altItems = altCandidates.slice(0, 3);
    const altTotal = altItems.reduce((sum,p)=>sum+p.price,0);

    const look3 = {
      title: "Look Alternatif / Multi-Occasion",
      tag: "Mix & Match",
      description: "Look ini menunjukkan bagaimana produk yang sama bisa dipakai di occasion lain, sehingga belanja ke UMKM jadi lebih maksimal (bukan sekali pakai).",
      items: altItems,
      priceNote: `Perkiraan total outfit: sekitar Rp${altTotal.toLocaleString("id-ID")}.`,
      highlight: "Cocok untuk kamu yang ingin satu produk dipakai untuk kuliah, hangout, dan acara semi-formal sekaligus."
    };

    // ---- RENDER SEMUA LOOK DENGAN GAMBAR PRODUK ----
    [look1, look2, look3].forEach(l => {
      const card = document.createElement("div");
      card.className = "result-card";

      const productsHtml = l.items.map(p => `
        <div class="result-product">
          ${p.image ? `
            <div class="result-product-img">
              <img src="${p.image}" alt="${p.name}">
            </div>
          ` : `
            <div class="result-product-img"></div>
          `}
          <div>
            <div class="result-product-name">${p.name}</div>
            <div class="result-product-meta">
              UMKM ${p.umkm} ¬∑ Rp${p.price.toLocaleString("id-ID")}
            </div>
            <div class="result-product-tags">
              <span class="tag">${p.style}</span>
              ${p.occasion.map(o=>`<span class="tag">${o}</span>`).join("")}
              ${p.tags.map(t=>`<span class="tag">${t}</span>`).join("")}
            </div>
          </div>
        </div>
      `).join("");

      card.innerHTML = `
        <h4>${l.title}</h4>
        <div class="result-tag">${l.tag}</div>
        <p>${l.description}</p>
        <div class="result-products">
          ${productsHtml}
        </div>
        <div class="result-small" style="margin-top:.4rem;">${l.priceNote}</div>
        <div class="result-small" style="margin-top:.25rem;">${l.highlight}</div>
      `;

      recGrid.appendChild(card);
    });
  }

  /* ========== SIMPAN PROFIL STYLE (DEMO) ========== */
  function saveProfile(){
    const data={
      gender:getSelectedValue("gender-options"),
      body:getSelectedValue("body-options"),
      style:getSelectedValue("style-options"),
      occasion:getSelectedValue("occasion-options"),
      budget:getSelectedValue("budget-options"),
      color:document.getElementById("color-input").value.trim()
    };
    localStorage.setItem("umkm_ai_style_profile",JSON.stringify(data));
    renderSavedProfile();
    alert("Profil style disimpan (demo). Ini mencontohkan bagaimana sistem mengingat preferensi pengguna.");
  }

  function renderSavedProfile(){
    const box=document.getElementById("saved-profile");
    if(!box) return;
    const raw=localStorage.getItem("umkm_ai_style_profile");
    if(!raw){ box.style.display="none"; return; }
    const d=JSON.parse(raw);
    box.style.display="block";
    box.innerHTML=`
      <strong>Profil Style Tersimpan (Demo)</strong>
      <div style="margin-top:.3rem;">
        <span class="pill">Gender: ${d.gender||"-"}</span>
        <span class="pill">Body: ${d.body||"-"}</span>
        <span class="pill">Style: ${styleLabel(d.style)||"-"}</span>
        <span class="pill">Occasion: ${d.occasion||"-"}</span>
        <span class="pill">Budget: ${d.budget||"-"}</span>
        ${d.color?`<span class="pill">Warna: ${d.color}</span>`:""}
      </div>
      <div style="margin-top:.4rem;">
        Di versi nyata, profil ini bisa dipakai untuk personalisasi berulang: homepage, rekomendasi awal,
        dan kampanye promo yang spesifik ke preferensimu.
      </div>
    `;
  }

  /* ========== AI CHATBOT LOGIC ========== */
  let currentMode = "user"; // 'user' atau 'umkm'

  function setMode(mode){
    currentMode = mode;
    const btnUser=document.getElementById("mode-user");
    const btnUmkm=document.getElementById("mode-umkm");
    if(btnUser && btnUmkm){
      btnUser.classList.toggle("active", mode==="user");
      btnUmkm.classList.toggle("active", mode==="umkm");
    }
    const label=document.getElementById("mode-label");
    if(label){
      label.textContent = mode==="user" ? "Mode: Pengguna (Fashion)" : "Mode: UMKM (Bisnis)";
    }
    appendMessage("Mode diubah ke "+(mode==="user"?"Pengguna (Fashion)":"UMKM (Bisnis)."),"bot");
  }

  function appendMessage(text, sender){
    const wrap=document.getElementById("chat-messages");
    if(!wrap) return;
    const b=document.createElement("div");
    b.className="chat-bubble "+sender;
    b.innerHTML=text;
    wrap.appendChild(b);
    wrap.scrollTop=wrap.scrollHeight;
  }

  function handleChatSend(){
    const input=document.getElementById("chat-input");
    if(!input) return;
    const text=input.value.trim();
    if(!text) return;
    appendMessage(text,"user");
    input.value="";
    setTimeout(()=>{
      const reply = currentMode==="user"
        ? buildUserReply(text.toLowerCase())
        : buildUmkmReply(text.toLowerCase());
      appendMessage(reply,"bot");
    },300);
  }

  function fillAndSend(text){
    const input=document.getElementById("chat-input");
    if(!input) return;
    input.value=text;
    handleChatSend();
  }

  /* ==== NLP SEDERHANA UNTUK CHAT USER ==== */
  function extractUserPrefs(raw){
    const msg = raw.toLowerCase();
    const prefs = {
      style: null,
      occasionLabel: null,
      gender: null,
      body: null,
      budgetCode: null,
      budgetApprox: null,
      color: null,
      concerns: []
    };

    const styleMap = {
      korean: ["korean","korea","k-style","drakor","soft girl","softgirl","korea korea"],
      streetwear: ["streetwear","street wear","street","oversize","baggy","sneakers look"],
      minimalist: ["minimalist","minimalis","simple","basic","clean look"],
      hijab: ["hijab","kerudung","khimar","syar'i","syari","syar i","hijabers"]
    };
    for (const code in styleMap){
      if (styleMap[code].some(k => msg.includes(k))) {
        prefs.style = code;
        break;
      }
    }

    const occMap = {
      Kuliah: ["kuliah","kampus","ngampus","kelas pagi"],
      Hangout: ["hangout","nongkrong","kafe","cafe","mall","jalan jalan"],
      Ngedate: ["ngedate","date","pacar","gebetan","jalan berdua"],
      Konser: ["konser","gig","festival","nonton musik"],
      Formal: ["formal","presentasi","wawancara","interview","sidang","seminar","kondangan","wisuda","reuni"]
    };
    for (const label in occMap){
      if (occMap[label].some(k => msg.includes(k))) {
        prefs.occasionLabel = label;
        break;
      }
    }

    if (msg.includes("cowok") || msg.includes("laki") || msg.includes("pria")) {
      prefs.gender = "male";
    } else if (msg.includes("cewek") || msg.includes("perempuan") || msg.includes("wanita") || msg.includes("hijab")) {
      prefs.gender = "female";
    }

    if (msg.includes("gemuk") || msg.includes("berisi") || msg.includes("plus size") || msg.includes("gendut")) {
      prefs.body = "plus_size";
      prefs.concerns.push("plus_size");
    }
    if (msg.includes("kurus") || msg.includes("kecil") || msg.includes("pendek") || msg.includes("mungil")) {
      prefs.body = "petite";
      prefs.concerns.push("petite");
    }

    const budgetMatch = msg.match(/(\d+)\s*(k|rb|ribu|\.?000|k\s*an)?/i);
    if (budgetMatch){
      const val = parseInt(budgetMatch[1], 10);
      let rp = val;
      if (budgetMatch[2] && /k|rb|ribu|k\s*an/.test(budgetMatch[2])) {
        rp = val * 1000;
      } else if (rp < 1000) {
        rp = val * 1000;
      }
      prefs.budgetApprox = rp;
      if (rp <= 100000) prefs.budgetCode = "100";
      else if (rp <= 200000) prefs.budgetCode = "200";
      else if (rp <= 300000) prefs.budgetCode = "300";
      else prefs.budgetCode = "400";
    }

    if (msg.includes("earth tone") || msg.includes("earthtone")) prefs.color = "earth tone";
    else if (msg.includes("pastel")) prefs.color = "pastel";
    else if (msg.includes("monochrome") || msg.includes("hitam putih")) prefs.color = "monochrome";
    else if (msg.includes("warna nude")) prefs.color = "nude";

    if (msg.includes("kuliah") || msg.includes("kampus")) prefs.concerns.push("kuliah");
    if (msg.includes("ngedate") || msg.includes("date") || msg.includes("pacar") || msg.includes("gebetan")) prefs.concerns.push("ngedate");
    if (msg.includes("interview") || msg.includes("wawancara") || msg.includes("kerja") || msg.includes("sidang")) prefs.concerns.push("interview");
    if (msg.includes("tips")) prefs.concerns.push("tips");
    if (msg.includes("malu") || msg.includes("norak") || msg.includes("nggak pede") || msg.includes("ga pede") || msg.includes("tidak pede")) prefs.concerns.push("percaya_diri");

    return { msg, prefs };
  }

  function buildUserReply(rawMsg){
    const { msg, prefs } = extractUserPrefs(rawMsg);

    /* ---- jawaban umum untuk concern tertentu (kuliah, ngedate, dll)
       ... (bagian tips sama seperti versi sebelumnya, biar nggak kepanjangan
       kalau mau, bagian ini bisa tetap kamu pakai dari kode lama)
       Di sini fokus perbaikan ada di bagian rekomendasi produk di bawah
    ---- */

    // kalau belum ada style ‚Üí minta minimal 3 info (gaya, occasion, budget)
    if (!prefs.style) {
      return (
        "Supaya aku bisa memberikan rekomendasi produk UMKM yang spesifik, sebut minimal tiga hal ini ya:<br>" +
        "1Ô∏è‚É£ Gaya: korean / streetwear / minimalist / hijab<br>" +
        "2Ô∏è‚É£ Occasion: kuliah / ngedate / kafe / konser / formal / kondangan<br>" +
        "3Ô∏è‚É£ Budget: contoh 150K, 200K, 300K<br><br>" +
        "Contoh chat:<br>" +
        "- ‚ÄúAku cowok, mau gaya korean casual buat kuliah, budget 200K.‚Äù<br>" +
        "- ‚ÄúCewek berhijab, suka pastel, mau ke kafe, budget 250K.‚Äù"
      );
    }

    // USER HANYA NGOMONG WARNA (misal: "aku suka pastel")
    if (!prefs.budgetCode && !prefs.occasionLabel && prefs.color) {
      return (
        `Noted kamu suka warna: ${prefs.color} üé®<br><br>` +
        "AI akan memprioritaskan produk UMKM dengan tone warna tersebut (misalnya ada di nama produk atau tag warna).<br>" +
        "Supaya bisa keluar rekomendasi produk lengkap, sebut juga gaya + occasion + kisaran budgetmu ya. "
      );
    }

    // Kalau sudah ada style / occasion / budget ‚Üí jalankan mesin rekomendasi
    const prefsForAI = {
      gender: prefs.gender,
      body: prefs.body,
      style: prefs.style,
      occasion: prefs.occasionLabel ? prefs.occasionLabel.toLowerCase() : "",
      occasionLabel: prefs.occasionLabel || "Daily",
      budget: prefs.budgetCode || "200",
      color: prefs.color
    };

    const matches = recommendProducts(prefsForAI);
    if (matches.length === 0) {
      return (
        "Aku sudah coba mencocokkan preferensimu dengan katalog UMKM, " +
        "tapi belum ada produk yang benar-benar pas. Ini sinyal bahwa koleksi UMKM di segmen itu masih perlu ditambah. üôè"
      );
    }

    const mainItems = matches.slice(0, 3);
    const total = mainItems.reduce((sum,p)=>sum+p.price,0);

    const budgetTextMap = {
      "100":"‚â§ 100K",
      "200":"¬± 100‚Äì200K",
      "300":"¬± 200‚Äì300K",
      "400":"> 300K"
    };
    const styleText = styleLabel(prefs.style);

    let intro = "Dari chat kamu, AI membaca:";
    intro += "<br>- Gaya: " + styleText;
    intro += "<br>- Occasion: " + (prefsForAI.occasionLabel || "Daily / bebas");
    intro += "<br>- Budget kira-kira: " + (prefs.budgetApprox
      ? "Rp" + prefs.budgetApprox.toLocaleString("id-ID") + " (" + (budgetTextMap[prefsForAI.budget] || "") + ")"
      : (budgetTextMap[prefsForAI.budget] || "-"));
    if (prefs.color) intro += "<br>- Preferensi warna: " + prefs.color;
    if (prefs.gender === "male") intro += "<br>- Gender: cowok";
    if (prefs.gender === "female") intro += "<br>- Gender: cewek";

    const listHtml = mainItems
      .map(p => "- " + formatProductLine(p))
      .join("<br>");

    const closing =
      "<br><br>Outfit yang aku sarankan dari produk UMKM adalah:<br>" +
      listHtml +
      "<br><br>Rekomendasi di atas diambil dari katalog UMKM, disusun berdasarkan skor kecocokan tertinggi dengan preferensimu." +
      "<br>Kalau mau, kamu bisa minta versi lebih hemat atau ganti gaya (misalnya streetwear / minimalist).";

    return intro + closing;
  }

  function buildUmkmReply(msg){
    if(msg.includes("fokus") && msg.includes("produk")){
      return (
        "Jika targetmu adalah Gen Z, data dari modul AI biasanya menunjukkan bahwa:<br><br>" +
        "1Ô∏è‚É£ Gaya yang sering dicari: Korean casual, streetwear, dan minimalist (plus hijab modern untuk pengguna berhijab).<br>" +
        "2Ô∏è‚É£ Range harga nyaman: Rp100K‚ÄìRp200K per item.<br>" +
        "3Ô∏è‚É£ Warna: earth tone (cream, coklat susu), pastel lembut, serta kombinasi monochrome untuk minimalist.<br><br>" +
        "Jadi, kamu bisa fokus ke:<br>" +
        "- Oversize shirt / kaos graphic untuk Korean & streetwear.<br>" +
        "- Kemeja polos dan celana lurus untuk minimalist.<br>" +
        "- Hijab dan set outfit warna earth tone / pastel.<br><br>" +
        "AI di platform ini akan mendorong produkmu ke pengguna yang preferensinya cocok, sehingga peluang klik dan pembelian meningkat."
      );
    }

    if(msg.includes("penjualan") || msg.includes("meningkatkan")){
      return (
        "AI bisa membantu meningkatkan penjualan UMKM di beberapa titik:<br><br>" +
        "1Ô∏è‚É£ <strong>Rekomendasi yang tepat sasaran</strong><br>" +
        "Produkmu tidak muncul ke semua orang secara acak, tetapi hanya ke pengguna yang gayanya cocok.<br><br>" +
        "2Ô∏è‚É£ <strong>Cross-sell & mix-and-match otomatis</strong><br>" +
        "Jika pengguna memilih satu produk darimu, AI bisa menyarankan produk pelengkap dari tokomu sendiri atau UMKM lain.<br><br>" +
        "3Ô∏è‚É£ <strong>Insight data</strong><br>" +
        "Kamu bisa tahu produk mana yang paling sering direkomendasikan, gaya apa yang naik, dan range harga mana yang paling laku."
      );
    }

    if(msg.includes("ai") && msg.includes("platform")){
      return (
        "Di platform ini, AI bekerja di belakang layar sebagai:<br><br>" +
        "- <strong>Pencocok preferensi</strong> ‚Üí membaca gaya, budget, warna, lalu mencari produk UMKM yang cocok.<br>" +
        "- <strong>Pengelompokan produk</strong> ‚Üí memberi label otomatis ke produk (Korean, streetwear, hijab, dsb.).<br>" +
        "- <strong>Analisis tren</strong> ‚Üí melihat gaya dan harga mana yang paling sering dipilih pengguna.<br><br>" +
        "Chatbot yang sedang kamu gunakan hanyalah 'wajah depan' dari AI tersebut, yang menjelaskan data dan rekomendasi dengan bahasa yang mudah."
      );
    }

    return (
      "Sebagai UMKM, kamu bisa gunakan chatbot ini untuk bertanya hal-hal seperti:<br>" +
      "- ‚ÄúProduk fashion apa yang cocok untuk Gen Z di platform ini?‚Äù<br>" +
      "- ‚ÄúRange harga berapa yang paling diminati?‚Äù<br>" +
      "- ‚ÄúBagaimana contoh strategi memanfaatkan AI rekomendasi untuk katalog saya?‚Äù<br><br>" +
      "Coba kirim lagi pertanyaanmu dengan lebih spesifik, ya. üòä"
    );
  }

  // enter untuk kirim chat
  const chatInput = document.getElementById("chat-input");
  if (chatInput) {
    chatInput.addEventListener("keydown", function(e){
      if(e.key==="Enter"){
        e.preventDefault();
        handleChatSend();
      }
    });
  }

  /* ========== KATALOG LOGIC ========== */
  function renderProducts(list){
  const grid = document.getElementById("product-grid");
  if (!grid) return;
  grid.innerHTML = "";

  list.forEach(p => {
    const div = document.createElement("div");
    div.className = "product-card";

    div.innerHTML = `
      <div class="product-image-wrap">
        ${
          p.image
            ? `<img src="${p.image}" alt="${p.name}">`
            : `<span>Preview foto produk</span>`
        }
      </div>
      <div class="product-name">${p.name}</div>
      <div class="product-umkm">UMKM: ${p.umkm}</div>
      <div class="product-price">Rp${p.price.toLocaleString("id-ID")}</div>
      <div class="product-tags">
        <span class="tag">${p.style}</span>
        ${p.occasion.map(o => `<span class="tag">${o}</span>`).join("")}
        ${p.tags.map(t => `<span class="tag">${t}</span>`).join("")}
      </div>
      <div class="product-footer">
        <button class="btn-secondary"
          onclick="alert('Konsep: diarahkan ke WhatsApp/Instagram UMKM ${p.umkm}')">
          Hubungi Penjual
        </button>
        <span style="font-size:.75rem;color:#7a6b60;">
          Dibaca AI sebagai produk ${p.style}, cocok untuk ${p.occasion.join(", ")}.
        </span>
      </div>
    `;

    grid.appendChild(div);
  });
}


  function filterProducts(){
    const styleEl = document.getElementById("filter-style");
    const occasionEl = document.getElementById("filter-occasion");
    const priceEl = document.getElementById("filter-price");
    const searchEl = document.getElementById("search-input");
    if(!styleEl || !occasionEl || !priceEl || !searchEl) return;

    const style = styleEl.value;
    const occasion = occasionEl.value;
    const price = priceEl.value;
    const search = searchEl.value.toLowerCase();

    const filtered = products.filter(p=>{
      if(style && p.style!==style) return false;
      if(occasion && !p.occasion.includes(occasion)) return false;
      if(price==="low" && p.price>100000) return false;
      if(price==="mid" && (p.price<100000 || p.price>200000)) return false;
      if(price==="high" && p.price<200000) return false;
      const text = (p.name+" "+p.umkm+" "+p.tags.join(" ")).toLowerCase();
      if(search && !text.includes(search)) return false;
      return true;
    });

    renderProducts(filtered);
  }

  /* ========== INIT ON LOAD ========== */
  renderSavedProfile();
  renderProducts(products);
</script>


</body>
</html>
